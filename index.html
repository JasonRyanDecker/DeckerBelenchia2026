<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jason Decker &amp; Ashton Belenchia - Wedding</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600&family=Crimson+Text:wght@400;600&display=swap" rel="stylesheet">

  <style>
    /* ---------- Theme variables ---------- */
    :root{
      --bg-color:#0f0f0f;
      --muted:#bfbfbf;
      --gold:#d4af37;
      --gold-600:rgba(212,175,55,0.95);
      --gold-30:rgba(212,175,55,0.15);
      --card-bg: rgba(15,15,15,0.9);
      --glass: rgba(255,255,255,0.02);
      --max-width:1200px;
      --radius:12px;
      --gap:20px;
      --nav-height:72px;

      /* background image var: set by JS to `url("...")` */
      --bg-image: none;
    }

    /* ---------- Reset & sensible defaults ---------- */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: 'Crimson Text', serif;
      background: var(--bg-color);
      color: #fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
      min-height:100vh;
      line-height:1.45;
    }

    /* ---------- Background layer (improved) ---------- */
    body::before{
      content: "";
      position: fixed;
      inset: 0;
      z-index: -2;
      background-image: var(--bg-image);
      background-size: cover; /* cover provides better full-bleed visuals */
      background-position: center center;
      background-repeat: no-repeat;
      filter: saturate(0.75) blur(1px) contrast(0.9);
      transition: background-image 700ms ease, opacity 700ms ease;
      opacity: 0.6;
    }

    /* subtle overlay to ensure text contrast */
    body::after{
      content:"";
      position:fixed;
      inset:0;
      z-index:-1;
      background: linear-gradient(180deg, rgba(15,15,15,0.7) 0%, rgba(15,15,15,0.85) 60%);
      pointer-events:none;
    }

    /* ---------- Layout ---------- */
    header{
      position:fixed;
      left:0;right:0;top:0;
      height:var(--nav-height);
      display:flex;
      align-items:center;
      justify-content:center;
      backdrop-filter: blur(6px);
      background: linear-gradient(180deg, rgba(15,15,15,0.65), rgba(15,15,15,0.55));
      border-bottom: 1px solid rgba(212,175,55,0.08);
      z-index:1000;
      box-shadow: 0 6px 18px rgba(0,0,0,0.5);
    }
    .nav-container{
      width:100%;
      max-width:var(--max-width);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 18px;
      gap:10px;
    }

    /* Brand / Title */
    .brand{
      font-family: 'Cinzel', serif;
      color:var(--gold);
      font-weight:500;
      letter-spacing:2px;
      font-size:1rem;
    }

    /* Desktop nav */
    nav{
      display:flex;
      gap:6px;
      align-items:center;
    }
    nav a{
      color: rgba(212,175,55,0.9);
      text-decoration:none;
      font-family:'Cinzel',serif;
      font-size:12px;
      letter-spacing:2px;
      padding:12px 14px;
      border-radius:8px;
      transition: all 220ms ease;
    }
    nav a:hover, nav a:focus{
      background: rgba(212,175,55,0.06);
      transform: translateY(-2px);
      outline: none;
    }

    /* Mobile hamburger */
    .hamburger{
      display:none;
      width:44px;height:44px;
      align-items:center;justify-content:center;
      background:transparent;border-radius:10px;border:none;
    }
    .hamburger .bar{
      display:block;
      width:22px;height:2px;margin:3px 0;background:var(--gold);
      transition: transform 200ms ease, opacity 200ms ease;
    }
    .hamburger[aria-expanded="true"] .bar:nth-child(1) {
        transform: translateY(6px) rotate(45deg);
    }

    .hamburger[aria-expanded="true"] .bar:nth-child(2) {
        opacity: 0;
    }

    .hamburger[aria-expanded="true"] .bar:nth-child(3) {
        transform: translateY(-6px) rotate(-45deg);
    }


    /* Mobile nav overlay panel */
    .mobile-nav{
      position:fixed; inset:var(--nav-height) 0 0 0;
      display:none;
      z-index:999;
      background: rgba(10,10,10,0.98);
      padding:20px;
      overflow:auto;
    }
    .mobile-nav.active{ display:block; }
    .mobile-nav a{
      display:block;
      padding:14px 12px;
      color:var(--gold);
      border-bottom:1px solid rgba(255,255,255,0.03);
      font-family:'Cinzel',serif;
      letter-spacing:2px;
    }

    /* ---------- Page sections ---------- */
    main{ margin-top: calc(var(--nav-height) + 12px);}

/* Generic section card used across pages */
    .section {
      min-height: calc(100vh - var(--nav-height) - 40px);
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding:36px 18px;
      gap:var(--gap);
      animation: fadeInUp 500ms ease both;
    }

    .container{
      width:100%;
      max-width:var(--max-width);
    }

    /* ---------- HERO ---------- */
    .hero{
      width:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:56px 18px;
      text-align:center;
      position:relative;
    }
    .hero-card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(212,175,55,0.12);
      padding:42px 28px;
      border-radius: var(--radius);
      max-width:980px;
      width:100%;
      box-shadow: 0 18px 40px rgba(0,0,0,0.6);
      backdrop-filter: blur(6px);
    }
    .hero h1{
      margin:0;
      font-family:'Cinzel',serif;
      font-weight:400;
      color:var(--gold);
      letter-spacing:6px;
      font-size: clamp(1.6rem, 4vw, 3.2rem);
      text-transform:uppercase;
      text-shadow: 0 2px 10px rgba(0,0,0,0.45);
    }
    .hero .amp{
      font-size:1.25rem;
      color: rgba(212,175,55,0.85);
      margin:8px 0 16px;
      letter-spacing:4px;
    }
    .hero .date{
      color:var(--gold);
      letter-spacing:4px;
      text-transform:uppercase;
      margin-top:14px;
      font-family:'Cinzel',serif;
    }
    .hero .location{
      color: rgba(212,175,55,0.8);
      margin-top:6px;
      font-size:0.95rem;
      letter-spacing:2px;
    }

    /* Countdown small */
    .countdown{
      display:flex;
      gap:16px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:20px;
      padding:16px;
      border-radius:10px;
      background: var(--gold-30);
      color: var(--gold);
      font-family:'Cinzel',serif;
      font-size:0.95rem;
    }

    /* Spotify */
    .spotify{
      margin-top:20px;
      padding:14px;
      border-radius:10px;
      background: rgba(0,0,0,0.45);
      border:1px solid rgba(212,175,55,0.08);
    }
    .spotify .label{
      text-transform:uppercase;
      font-family:'Cinzel',serif;
      color:var(--gold);
      font-size:0.8rem;
      letter-spacing:2px;
      margin-bottom:8px;
      text-align:center;
    }

    /* ---------- Cards (info / form / registry / gallery) ---------- */
    .card{
      background: var(--card-bg);
      border: 1px solid rgba(212,175,55,0.08);
      padding:28px;
      border-radius:12px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.55);
    }
    .card h2{
      font-family:'Cinzel',serif;
      color:var(--gold);
      margin:0 0 18px 0;
      letter-spacing:3px;
      text-transform:uppercase;
      font-size:1.6rem;
    }
    .card p{ color: rgba(255,255,255,0.88); }

    /* timeline / registry list */
    .timeline-item{
      border-left:3px solid var(--gold);
      padding:16px;
      margin-bottom:14px;
      background: rgba(212,175,55,0.02);
      border-radius:8px;
    }

    .registry-grid, .gallery-grid{
      display:grid;
      grid-template-columns: repeat( auto-fit, minmax(250px, 1fr) );
      gap:20px;
      margin-top:12px;
    }

    .registry-card{
      padding:18px;
      border-radius:10px;
      background: rgba(255,255,255,0.02);
      text-align:center;
      transition: transform 200ms ease, box-shadow 200ms ease;
    }
    .registry-card:hover{ transform: translateY(-6px); box-shadow: 0 14px 30px rgba(0,0,0,0.5); }
    .registry-card h3{ margin:0 0 8px 0; color:var(--gold); font-family:'Cinzel',serif; }

    /* gallery items */
    .gallery-item{
      position:relative;
      border-radius:10px;
      overflow:hidden;
      background: rgba(255,255,255,0.02);
      cursor:pointer;
      height:0;
      padding-bottom:100%; /* square */
    }
    .gallery-item img{
      position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
      transition: transform 300ms ease;
    }
    .gallery-item:hover img{ transform: scale(1.04); }
    .gallery-overlay{
      position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
      background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.45));
      opacity:0; transition:opacity 180ms ease;
    }
    .gallery-item:hover .gallery-overlay{ opacity:1; }
    .gallery-overlay span{ color:var(--gold); font-family:'Cinzel',serif; letter-spacing:2px; }

    /* Lightbox */
    .lightbox{
      position: fixed; inset:0; display:none; align-items:center; justify-content:center;
      background: rgba(0,0,0,0.95); z-index:2000;
    }
    .lightbox.active{ display:flex; }
    .lightbox-content{ max-width:90%; max-height:90%; position:relative; }
    .lightbox-close{
      position:absolute; right:-8px; top:-8px; font-size:28px; color:var(--gold);
      background:rgba(0,0,0,0.25); padding:6px 10px; border-radius:8px; cursor:pointer;
    }

    /* Carousel (keeps original behavior but made visible) */
    .carousel-container{
      width:100%;
      max-width:1000px;
      height:460px;
      margin:24px auto 8px;
      border-radius:10px; overflow:hidden;
      background:#000; display:flex; align-items:center; justify-content:center; position:relative;
    }
    .carousel-image{
      max-width:100%;
      max-height:100%;
      object-fit:contain;
      display:block;
    }
    .carousel-nav{
      position:absolute; top:50%; transform:translateY(-50%);
      width:44px;height:44px;border-radius:8px; border:none; cursor:pointer;
      display:flex; align-items:center; justify-content:center; font-size:20px;
      background: rgba(212,175,55,0.9);
    }
    .carousel-prev{ left:16px; } .carousel-next{ right:16px; }
    .carousel-indicators{
      position:absolute; bottom:16px; left:50%; transform:translateX(-50%); display:flex; gap:8px;
    }
    .carousel-indicator{ width:10px;height:10px;border-radius:50%; background:rgba(255,255,255,0.15); cursor:pointer; }
    .carousel-indicator.active{ background:var(--gold); transform:scale(1.25); }

    /* Form */
    .form-row{ display:grid; grid-template-columns: repeat(2, 1fr); gap:14px; }
    .form-group{ margin-bottom:14px; }
    label{ display:block; margin-bottom:8px; color:var(--gold); font-family:'Cinzel',serif; font-size:0.85rem; letter-spacing:1px;}
    input[type="text"], input[type="email"], textarea, select{
      width:100%; padding:12px 14px; border-radius:8px; border:1px solid rgba(255,255,255,0.06);
      background: rgba(255,255,255,0.02); color:#fff; font-family:inherit; font-size:0.98rem;
      transition: box-shadow 160ms ease, border-color 160ms ease;
    }
    input:focus, textarea:focus, select:focus{ outline:none; border-color:var(--gold); box-shadow:0 4px 18px rgba(212,175,55,0.12); }

    .dietary-options{ display:grid; grid-template-columns: repeat(auto-fit,minmax(140px,1fr)); gap:10px; }
    .dietary-option{ padding:8px 10px; border-radius:8px; background: rgba(255,255,255,0.02); display:flex; gap:8px; align-items:center; }

    .btn{
      display:inline-block;
      width:100%;
      padding:12px 18px;
      border-radius:8px;
      border:2px solid var(--gold);
      background:transparent;
      color:var(--gold);
      font-family:'Cinzel',serif;
      letter-spacing:2px;
      cursor:pointer;
      transition: background 180ms ease, color 180ms ease, transform 160ms ease;
      margin-top:8px;
    }
    .btn:hover{ background:var(--gold); color:#1a0f15; transform:translateY(-3px); }

    .success-message{
      display:none; padding:12px; margin-top:12px; border-radius:8px;
      background: rgba(76,175,80,0.12); color: #a5d6a7; text-align:center;
    }
    .success-message.active{ display:block; }

    /* Page loader (kept but simplified) */
    .page-loader{
      position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:9999;
      background: linear-gradient(135deg, #1a0f15 0%, #0f0f0f 60%); color:var(--gold);
    }
    .page-loader.hidden{ display:none; }

    /* small utilities */
    .muted{ color: rgba(255,255,255,0.65) }

    /* ---------- Animations ---------- */
    @keyframes fadeInUp { from{opacity:0; transform:translateY(16px);} to{opacity:1; transform:none;} }
    @keyframes subtlePulse { 0%{opacity:0.9}50%{opacity:1}100%{opacity:0.9} }

    /* ---------- Responsive ---------- */
    @media (max-width:980px){
      .form-row{ grid-template-columns: 1fr; }
      .hero-card{ padding:28px; }
      .carousel-container{ height:320px; }
    }
    @media (max-width:640px){
      nav{ display:none }
      .hamburger{ display:flex }
      .container{ padding:0 12px }
      .hero{ padding:28px 12px }
      .carousel-container{ height:240px; }
      .gallery-item{ padding-bottom:100% }
    }

  </style>
</head>
<body>

  <!-- Page loader -->
  <div id="pageLoader" class="page-loader" role="status" aria-live="polite">
    <div>
      <div style="text-align:center; margin-bottom:8px; font-family:'Cinzel',serif; font-weight:500;">Loading Your Wedding</div>
      <div style="width:220px;height:6px;background:rgba(255,255,255,0.06);border-radius:4px; overflow:hidden;">
        <div style="width:60%;height:100%;background:linear-gradient(90deg,var(--gold), #f0e68c); animation:loadbar 2.4s linear infinite"></div>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header>
    <div class="nav-container">
      <div class="brand" aria-hidden="true">Jason &amp; Ashton</div>

      <nav role="navigation" id="nav">
        <a href="#" onclick="showSection('home');return false;">Home</a>
        <a href="#" onclick="showSection('schedule');return false;">Schedule</a>
        <a href="#" onclick="showSection('travel');return false;">Travel</a>
        <a href="#" onclick="showSection('registry');return false;">Registry</a>
        <a href="#" onclick="showSection('rsvp');return false;">RSVP</a>
        <a href="#" onclick="showSection('gallery');return false;">Gallery</a>
        <a href="#" onclick="showSection('details');return false;">Things To Do</a>
        <a href="#" onclick="showSection('faqs');return false;">FAQs</a>
      </nav>

      <button class="hamburger" id="hamburger" aria-label="Open navigation" aria-expanded="false" aria-controls="mobileNav">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>
    </div>
  </header>

  <!-- Mobile nav panel -->
  <div id="mobileNav" class="mobile-nav" aria-hidden="true">
    <a href="#" onclick="showSection('home'); toggleMobileNav(false); return false;">Home</a>
    <a href="#" onclick="showSection('schedule'); toggleMobileNav(false); return false;">Schedule</a>
    <a href="#" onclick="showSection('travel'); toggleMobileNav(false); return false;">Travel</a>
    <a href="#" onclick="showSection('registry'); toggleMobileNav(false); return false;">Registry</a>
    <a href="#" onclick="showSection('rsvp'); toggleMobileNav(false); return false;">RSVP</a>
    <a href="#" onclick="showSection('gallery'); toggleMobileNav(false); return false;">Gallery</a>
    <a href="#" onclick="showSection('details'); toggleMobileNav(false); return false;">Things To Do</a>
    <a href="#" onclick="showSection('faqs'); toggleMobileNav(false); return false;">FAQs</a>
  </div>

  <main>
    <!-- HOME / HERO -->
    <section id="home" class="section" aria-labelledby="homeTitle">
      <div class="container">
        <div class="hero">
          <div class="hero-card card" role="region" aria-label="Hero">
            <h1 id="homeTitle">Jason Decker</h1>
            <div class="amp">&amp;</div>
            <h1>Ashton Belenchia</h1>
            <div class="date">October 17, 2026</div>
            <div class="location">Sussex, NJ</div>

            <div class="countdown" id="countdown">
              <div><strong id="days">0</strong><div style="font-size:0.75rem" class="muted">days</div></div>
              <div><strong id="hours">0</strong><div style="font-size:0.75rem" class="muted">hours</div></div>
              <div><strong id="minutes">0</strong><div style="font-size:0.75rem" class="muted">minutes</div></div>
              <div><strong id="seconds">0</strong><div style="font-size:0.75rem" class="muted">seconds</div></div>
            </div>

            <div class="spotify" aria-hidden="false">
              <div class="label">Our Song</div>
              <iframe style="border-radius:10px" src="https://open.spotify.com/embed/track/7aZDcmt34eouhqw29aMR91?utm_source=generator&theme=0" width="100%" height="132" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SCHEDULE -->
    <section id="schedule" class="section" style="display:none;">
      <div class="container card">
        <h2>Schedule</h2>
        <div class="timeline-item">
          <h3>4:00 PM - Ceremony</h3>
          <p>Join us as we exchange our vows in an intimate ceremony surrounded by nature.</p>
        </div>
        <div class="timeline-item">
          <h3>5:00 PM - Cocktail Hour</h3>
          <p>Enjoy drinks and hors d'oeuvres while we capture some photos.</p>
        </div>
        <div class="timeline-item">
          <h3>6:00 PM - Reception</h3>
          <p>Dinner, dancing, and celebration! Let's party the night away.</p>
        </div>
        <div class="timeline-item">
          <h3>10:00 PM - Send Off</h3>
          <p>Help us celebrate as we begin our journey as a married couple.</p>
        </div>
      </div>
    </section>

    <!-- TRAVEL -->
    <section id="travel" class="section" style="display:none;">
      <div class="container card">
        <h2>Travel &amp; Accommodations</h2>
        <h3 style="color:var(--gold); margin-top:6px;">Venue Location</h3>
        <p class="muted">Sussex, New Jersey</p>
        <p>Detailed venue information will be provided to confirmed guests.</p>

        <h3 style="color:var(--gold); margin-top:6px;">Nearby Hotels</h3>
        <p>We recommend booking your accommodations early. A list of recommended hotels near the venue will be shared with confirmed guests.</p>

        <h3 style="color:var(--gold); margin-top:6px;">Getting There</h3>
        <p>The venue is easily accessible by car. Detailed directions and parking information will be provided closer to the wedding date.</p>
      </div>
    </section>

    <!-- REGISTRY -->
    <section id="registry" class="section" style="display:none;">
      <div class="container card">
        <h2>Registry</h2>
        <p style="text-align:center; margin-bottom:18px;">Your presence at our wedding is the greatest gift of all. If you'd like to gift, here are places we're registered:</p>

        <div class="registry-grid" aria-live="polite">
          <div class="registry-card">
            <h3>Target</h3>
            <p>Home essentials and more</p>
            <a class="btn" href="https://www.target.com/gift-registry" target="_blank" rel="noopener">Visit Registry</a>
          </div>
          <div class="registry-card">
            <h3>Amazon</h3>
            <p>Everything we need</p>
            <a class="btn" href="https://www.amazon.com/wedding" target="_blank" rel="noopener">Visit Registry</a>
          </div>
          <div class="registry-card">
            <h3>Zola</h3>
            <p>Our complete wedding registry</p>
            <a class="btn" href="https://www.zola.com" target="_blank" rel="noopener">Visit Registry</a>
          </div>
          <div class="registry-card">
            <h3>Crate &amp; Barrel</h3>
            <p>Kitchen and dining</p>
            <a class="btn" href="https://www.crateandbarrel.com/gift-registry" target="_blank" rel="noopener">Visit Registry</a>
          </div>
          <div class="registry-card">
            <h3>Williams Sonoma</h3>
            <p>Culinary gifts</p>
            <a class="btn" href="https://www.williams-sonoma.com/registry" target="_blank" rel="noopener">Visit Registry</a>
          </div>
          <div class="registry-card">
            <h3>Pottery Barn</h3>
            <p>Home décor and furnishings</p>
            <a class="btn" href="https://www.potterybarn.com/registry" target="_blank" rel="noopener">Visit Registry</a>
          </div>
        </div>
      </div>
    </section>

    <!-- RSVP -->
    <!-- RSVP -->
    <section id="rsvp" class="section" style="display:none;">
    <div class="container card">
        <h2>RSVP</h2>

        <!-- Embedded Google Form -->
        <iframe 
        src="YOUR_GOOGLE_FORM_EMBED_URL"
        width="100%" 
        height="1200" 
        frameborder="0"
        marginheight="0"
        marginwidth="0"
        style="border: none;">
        </iframe>
    </div>
    </section>


    <!-- GALLERY -->
    <section id="gallery" class="section" style="display:none;">
      <div class="container card">
        <h2>Gallery</h2>
        <p style="text-align:center; margin-bottom:12px;">Beautiful moments from our journey together. Click any photo to view in full screen.</p>

        <!-- Gallery grid used by JS -->
        <div id="galleryGrid" class="gallery-grid" aria-live="polite"></div>

        <div style="text-align:center; color: rgba(255,255,255,0.7); margin-top:18px;">
          View our full gallery slideshow in the <a href="#" onclick="showSection('details'); return false;" style="color:var(--gold); text-decoration:underline;">Things To Do</a> section
        </div>
      </div>
    </section>

    <!-- DETAILS (also contains carousel) -->
    <section id="details" class="section" style="display:none;">
      <div class="container">
        <div class="card">
          <h2>Things To Do</h2>
          <h3 style="color:var(--gold); margin-top:10px;">Venue Location</h3>
          <p>Our celebration will take place in beautiful Sussex County, near Vernon, NJ. The area offers stunning natural scenery and a variety of activities for our guests to enjoy.</p>

          <h3 style="color:var(--gold); margin-top:10px;">Local Attractions</h3>
          <p>Sussex County offers beautiful scenery and plenty of activities. High Point State Park offers scenic overlooks and hiking trails. The area is known for its natural beauty, lakes, and outdoor recreation.</p>

          <h3 style="color:var(--gold); margin-top:10px;">Dress Code</h3>
          <p>Formal attire requested. We want you to feel comfortable and look your best as we celebrate together.</p>

          <!-- Carousel (new visible component hooked to existing JS) -->
          <div class="carousel-container" aria-hidden="false">
            <button class="carousel-nav carousel-prev" aria-label="Previous image" onclick="prevCarouselImage()">‹</button>
            <img id="carouselImage" class="carousel-image" alt="Carousel image" src="" />
            <button class="carousel-nav carousel-next" aria-label="Next image" onclick="nextCarouselImage()">›</button>
            <div id="carouselIndicators" class="carousel-indicators" role="tablist" aria-label="Carousel indicators"></div>
          </div>

        </div>
      </div>
    </section>

    <!-- FAQs -->
    <section id="faqs" class="section" style="display:none;">
      <div class="container card">
        <h2>FAQs</h2>
        <h3 style="color:var(--gold); margin-top:8px;">When should I RSVP by?</h3>
        <p>Please RSVP by September 1, 2026.</p>

        <h3 style="color:var(--gold); margin-top:8px;">Can I bring a plus one?</h3>
        <p>Due to venue capacity, we are only able to accommodate guests formally invited on your invitation.</p>

        <h3 style="color:var(--gold); margin-top:8px;">Are children welcome?</h3>
        <p>While we love your little ones, this will be an adults-only celebration.</p>

        <h3 style="color:var(--gold); margin-top:8px;">What if I have dietary restrictions?</h3>
        <p>Please let us know about any dietary restrictions when you RSVP, and we'll work with our caterer to accommodate your needs.</p>

        <h3 style="color:var(--gold); margin-top:8px;">Will transportation be provided?</h3>
        <p>Transportation details will be shared with confirmed guests closer to the wedding date.</p>

        <h3 style="color:var(--gold); margin-top:8px;">What is the weather like in October?</h3>
        <p>October in New Jersey is typically mild with temperatures ranging from 50-65°F. We recommend bringing a light jacket for the evening.</p>
      </div>
    </section>
  </main>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox" role="dialog" aria-hidden="true">
    <div class="lightbox-content">
      <button class="lightbox-close" id="lightboxClose" aria-label="Close image">&times;</button>
      <img id="lightboxImage" src="" alt="Full view" style="max-width:100%; max-height:80vh; display:block; border-radius:8px;" />
    </div>
  </div>

  <!-- ---------- JavaScript (preserve functionality, add resilience) ---------- -->
  <script>
    /***** Utility: add safe selector helper *****/
    const $ = sel => document.querySelector(sel);
    const $$ = sel => Array.from(document.querySelectorAll(sel));

    /* -------- Images list (kept same as original) --------
       Note: keep these paths as you provided. If you rename/move images, update these paths.
    */
    const galleryImages = [
      { url: './IMAGES/Ash1.jpg', title: 'Engagement' },
      { url: './IMAGES/Ash2.jpg', title: 'Beautiful Moment' },
      { url: './IMAGES/Ash3.jpg', title: 'Our Love' },
      { url: './IMAGES/Ash4.jpg', title: 'Together' },
      { url: './IMAGES/Ash5.jpg', title: 'Memories' },
      { url: './IMAGES/ash6.jpg', title: 'Joy' }
    ];

    /* ---------- Background & Carousel state ---------- */
    let currentCarouselIndex = 0;
    let carouselAutoPlayInterval = null;

    function safeSetBackground(imageUrl){
      // if invalid/missing, set to none (keeps overlay visible)
      if(!imageUrl) {
        document.documentElement.style.setProperty('--bg-image', 'none');
        return;
      }
      // use CSS url() format
      document.documentElement.style.setProperty('--bg-image', `url("${imageUrl}")`);
    }

    function updateBackgroundImage(){
      const imageUrl = (galleryImages[currentCarouselIndex] && galleryImages[currentCarouselIndex].url) || '';
      safeSetBackground(imageUrl);
    }

    function updateCarouselImage(){
      const img = $('#carouselImage');
      if(!img) return;
      const image = galleryImages[currentCarouselIndex];
      img.src = image ? image.url : '';
      img.alt = image ? image.title : 'Carousel image';
      updateCarouselIndicators();
    }

    function nextCarouselImage(){
      if(!galleryImages.length) return;
      currentCarouselIndex = (currentCarouselIndex + 1) % galleryImages.length;
      updateCarouselImage();
      updateBackgroundImage();
      resetCarouselAutoPlay();
    }

    function prevCarouselImage(){
      if(!galleryImages.length) return;
      currentCarouselIndex = (currentCarouselIndex - 1 + galleryImages.length) % galleryImages.length;
      updateCarouselImage();
      updateBackgroundImage();
      resetCarouselAutoPlay();
    }

    function startCarouselAutoPlay(){
      stopCarouselAutoPlay();
      carouselAutoPlayInterval = setInterval(()=> {
        nextCarouselImage();
      }, 5000);
    }

    function resetCarouselAutoPlay(){
      startCarouselAutoPlay();
    }

    function stopCarouselAutoPlay(){
      if(carouselAutoPlayInterval) {
        clearInterval(carouselAutoPlayInterval);
        carouselAutoPlayInterval = null;
      }
    }

    function createCarouselIndicators(){
      const container = $('#carouselIndicators');
      if(!container || !galleryImages.length) return;
      container.innerHTML = '';
      galleryImages.forEach((_, idx) => {
        const dot = document.createElement('div');
        dot.className = 'carousel-indicator' + (idx === 0 ? ' active' : '');
        dot.setAttribute('role', 'tab');
        dot.addEventListener('click', ()=> {
          currentCarouselIndex = idx;
          updateCarouselImage();
          updateBackgroundImage();
          resetCarouselAutoPlay();
        });
        container.appendChild(dot);
      });
    }

    function updateCarouselIndicators(){
      const dots = $$('.carousel-indicator');
      dots.forEach((d, i) => d.classList.toggle('active', i === currentCarouselIndex));
    }

    /* ---------- Countdown ---------- */
    function updateCountdown(){
      const weddingDate = new Date('October 17, 2026 16:00:00').getTime();
      const now = Date.now();
      const distance = Math.max(0, weddingDate - now);

      const days = Math.floor(distance / (1000*60*60*24));
      const hours = Math.floor((distance % (1000*60*60*24)) / (1000*60*60));
      const minutes = Math.floor((distance % (1000*60*60)) / (1000*60));
      const seconds = Math.floor((distance % (1000*60)) / 1000);

      const s = id => { const el = document.getElementById(id); if(el) el.textContent = String(eval(id)).padStart(0,'0'); };
      // simpler direct set for clarity:
      const daysEl = $('#days'); if(daysEl) daysEl.textContent = days;
      const hoursEl = $('#hours'); if(hoursEl) hoursEl.textContent = hours;
      const minutesEl = $('#minutes'); if(minutesEl) minutesEl.textContent = minutes;
      const secondsEl = $('#seconds'); if(secondsEl) secondsEl.textContent = seconds;
    }

    /* ---------- Sections navigation ---------- */
    function showSection(sectionId){
      $$('.section').forEach(s => { s.style.display = 'none'; });
      const target = document.getElementById(sectionId);
      if(target) target.style.display = '';
      window.scrollTo({ top: 0, behavior: 'smooth' });

      /* close mobile nav if open */
      toggleMobileNav(false);
    }

    /* ---------- Mobile nav behavior ---------- */
    const hamburger = $('#hamburger');
    const mobileNav = $('#mobileNav');
    if(hamburger){
      hamburger.addEventListener('click', ()=> {
        const expanded = hamburger.getAttribute('aria-expanded') === 'true';
        toggleMobileNav(!expanded);
      });
    }
    function toggleMobileNav(open){
      if(!hamburger || !mobileNav) return;
      hamburger.setAttribute('aria-expanded', open ? 'true' : 'false');
      mobileNav.classList.toggle('active', open);
      mobileNav.setAttribute('aria-hidden', !open ? 'true' : 'false');
    }

    /* ---------- Gallery init (creates grid items) ---------- */
    function initGallery(){
      const galleryGrid = $('#galleryGrid');
      if(!galleryGrid) return;
      galleryGrid.innerHTML = '';
      galleryImages.forEach((image, index) => {
        const item = document.createElement('div');
        item.className = 'gallery-item';
        item.innerHTML = `
          <img src="${image.url}" alt="${(image.title||'Photo')}" loading="lazy">
          <div class="gallery-overlay"><span>VIEW</span></div>
        `;
        item.addEventListener('click', ()=> {
          openLightbox(index);
          // also bring up details/ carousel to keep experience consistent
          currentCarouselIndex = index;
          updateCarouselImage();
          updateBackgroundImage();
        });
        galleryGrid.appendChild(item);
      });
    }

    /* ---------- Lightbox ---------- */
    function openLightbox(index){
      const image = galleryImages[index];
      const lb = $('#lightbox');
      const lbImg = $('#lightboxImage');
      if(!image || !lb || !lbImg) return;
      lbImg.src = image.url;
      lbImg.alt = image.title || 'Photo';
      lb.classList.add('active');
      lb.setAttribute('aria-hidden','false');
    }
    function closeLightbox(){
      const lb = $('#lightbox');
      if(!lb) return;
      lb.classList.remove('active');
      lb.setAttribute('aria-hidden','true');
      const lbImg = $('#lightboxImage'); if(lbImg) lbImg.src = '';
    }
    const lbEl = $('#lightbox'); if(lbEl) lbEl.addEventListener('click', e => { if(e.target === lbEl) closeLightbox(); });
    const lbClose = $('#lightboxClose'); if(lbClose) lbClose.addEventListener('click', closeLightbox);

    /* ---------- RSVP form handling (preserve original behavior / endpoint) ---------- */
    const form = $('#rsvpForm');
    if(form){
      const attendingSelect = $('#isAttending');
      const attendingFields = $('#attendingFields');
      if(attendingSelect){
        attendingSelect.addEventListener('change', function(){
          if(attendingFields) attendingFields.style.display = this.value === 'yes' ? 'block' : 'none';
        });
      }

      form.addEventListener('submit', function(e){
        e.preventDefault();
        const fname = $('#fname')?.value.trim();
        const lname = $('#lname')?.value.trim();
        const email = $('#email')?.value.trim();
        const isAttending = $('#isAttending')?.value;

        if(!fname || !lname || !email || !isAttending){
          alert('Please fill in all required fields.');
          return;
        }

        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if(!emailRegex.test(email)){
          alert('Please enter a valid email address.');
          return;
        }

        const submitBtn = form.querySelector('.btn');
        if(submitBtn){ submitBtn.disabled = true; submitBtn.textContent = 'Submitting...'; }

        const formData = new FormData(form);
        const data = {
          fname: formData.get('fname'),
          lname: formData.get('lname'),
          email: formData.get('email'),
          isAttending: formData.get('isAttending'),
          isGlutenFree: formData.get('isGlutenFree') === 'yes' ? 'Yes' : 'No',
          isKosher: formData.get('isKosher') === 'yes' ? 'Yes' : 'No',
          message: formData.get('message') || '',
          timestamp: new Date().toLocaleString()
        };

        const scriptURL = 'https://script.google.com/macros/s/AKfycbzXaFLpnIOmV3HDkahEgtuT7lXH0TpC8mGRu1tCNFDWiAx_CzdNtlyVMEUfbL0xh7-1bg/exec';

        fetch(scriptURL, {
          method: 'POST',
          mode: 'cors',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        })
        .then(res => res.json().catch(()=>({status:'ok'})))
        .then(result => {
          // original expected result.status === 'success'
          if(result && (result.status === 'success' || result.status === 'ok')){
            $('#successMessage')?.classList.add('active');
            form.reset();
            if(attendingFields) attendingFields.style.display = 'none';
            setTimeout(()=> { $('#successMessage')?.classList.remove('active'); }, 5000);
          } else {
            alert('Error submitting RSVP. Please try again later.');
            console.error('RSVP error response:', result);
          }
        })
        .catch(err => {
          console.error(err);
          alert('There was an error submitting your RSVP. Please try again.');
        })
        .finally(()=> {
          if(submitBtn){ submitBtn.disabled = false; submitBtn.textContent = 'Submit RSVP'; }
        });
      });
    }

    /* ---------- Page init ---------- */
    document.addEventListener('DOMContentLoaded', function(){
      // populate gallery and carousel
      initGallery();
      createCarouselIndicators();
      updateCarouselImage();
      updateBackgroundImage();
      startCarouselAutoPlay();

      // countdown tick
      updateCountdown();
      setInterval(updateCountdown, 1000);

      // hide loader once DOM loaded and small delay to allow images/spotify to start
      setTimeout(()=> {
        const pl = document.getElementById('pageLoader');
        if(pl) pl.classList.add('hidden');
      }, 900);

      // make sure first section is home
      showSection('home');
    });

    /* Expose some functions for inline buttons (kept for accessibility) */
    window.nextCarouselImage = nextCarouselImage;
    window.prevCarouselImage = prevCarouselImage;
    window.openLightbox = openLightbox;
    window.closeLightbox = closeLightbox;
    window.showSection = showSection;
    window.toggleMobileNav = toggleMobileNav;

  </script>

  <style>
    /* small loadbar animation */
    @keyframes loadbar { 0%{ transform:translateX(-30%); } 100%{ transform:translateX(30%); } }
  </style>
</body>
</html>
